{"version":3,"sources":["webpack:///./src/vendor/check.js","webpack:///./src/vendor/chromeapi-storage.js?f7f0","webpack:///./src/vendor/chromeapi-tab.js?d12a","webpack:///./src/vendor/chromeapi.js?a648","webpack:///./src/vendor/tool.js?0bfa"],"names":["Tool","require","ChromeApi","updateDebugEnv","tabId","changeInfo","tab","status","url","indexOf","reload","storage","get","result","console","log","update","assembleParamBySymbol","debug_env_profix","debug_env","on","save","obj","resolve","reject","chrome","local","set","error","getParamArray","module","exports","getCurrent","tabs","getSelected","Error","callback","type","handler","onUpdated","addListener","tabApi","storageApi","getQueryString","key","_search","document","location","search","_pattern","RegExp","_matcher","exec","_items","decodeURIComponent","e","curUrl","profix","paramStr","_curParam","replace","test"],"mappings":"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","file":"js/check.js","sourcesContent":["const Tool = require(\"tool\")\nconst ChromeApi = require(\"chromeapi\")\n\n\nconst updateDebugEnv = async function (tabId, changeInfo, tab) {\n    if (changeInfo.status == \"loading\") {\n        if (tab.url.indexOf(\"_debug_env\") != -1) {\n            return;\n        } else {\n            await ChromeApi.tab.reload(tabId);\n            let result = await ChromeApi.storage.get(['debug_env_profix', 'debug_env']);\n            console.log(result);\n            console.log(tabId);\n            console.log(tab.url);\n            ChromeApi.tab.update(tabId, Tool.assembleParamBySymbol(tab.url, result.debug_env_profix || \"_debug_env\", result.debug_env || \"3.9\"))\n        }\n    }\n}\n\n//监听标签改变\nChromeApi.tab.on(\"update\", function (tabId, changeInfo, tab) {\n    updateDebugEnv(tabId, changeInfo, tab);\n})\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/check.js","const save = function (obj) {\n    return new Promise(function (resolve, reject) {\n        chrome.storage.local.set(obj, function (error) {\n            if (error) {\n                reject(error)\n            } else {\n                resolve(true)\n            }\n        })\n    })\n}\n\nconst get = function (getParamArray) {\n    return new Promise(function (resolve, reject) {\n        chrome.storage.local.get(getParamArray, function (result) {\n            resolve(result)\n        })\n    });\n}\n\nmodule.exports = {\n    save,get\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/chromeapi-storage.js","/**\n * 获取当前标签对象\n * @returns {object} 标签对象\n */\nconst getCurrent = function () {\n    return new Promise(function (resolve, reject) {\n        chrome.tabs.getSelected(null, function (tab) {\n            if (tab) {\n                resolve(tab)\n            } else {\n                let error = new Error(\"未获取到当前tab\");\n                reject(error)\n            }\n        });\n    })\n}\n\nconst update = function (tabId, url, callback) {\n    chrome.tabs.update(tabId, {\n        url: url\n    }, function () {\n        callback && callback();\n    })\n}\n\nconst reload = function (tabId) {\n    return new Promise(function (resolve, reject) {\n        chrome.tabs.reload(tabId, function () {\n            resolve(true)\n        })\n    })\n}\n\nconst on = function (type, handler) {\n    switch (type) {\n        case \"update\":\n            chrome.tabs.onUpdated.addListener(handler)\n            break;\n    }\n}\n\nmodule.exports = {\n    getCurrent,\n    update,\n    on,\n    reload\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/chromeapi-tab.js","//对chrome extension api的使用封装 \n\nconst tabApi = require(\"chromeapi-tab\");\n\nconst storageApi = require(\"chromeapi-storage\");\n\nmodule.exports = {\n    tab:tabApi,\n    storage:storageApi\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/chromeapi.js","function getQueryString(key, url) {\n    var _search = url || document.location.search,\n        _pattern = new RegExp(\"[?&]\" + key + \"\\=([^&]+)\", \"g\"),\n        _matcher = _pattern.exec(_search),\n        _items = null;\n    if (null != _matcher) {\n        try {\n            _items = decodeURIComponent(decodeURIComponent(_matcher[1]));\n        } catch (e) {\n            try {\n                _items = decodeURIComponent(_matcher[1]);\n            } catch (e) {\n                _items = _matcher[1];\n            }\n        }\n    }\n    return _items;\n}\n\n//检查是否很有?\nmodule.exports = {\n    assembleParamBySymbol: function (curUrl, profix, paramStr) {\n        var _curParam = getQueryString(profix, curUrl);\n        if (_curParam) {\n            return curUrl = curUrl.replace(profix + \"=\" + _curParam, profix + \"=\" + paramStr);\n        } else {\n            if (/\\?/.test(curUrl)) {\n                return curUrl + \"&\" + profix + \"=\" + paramStr;\n            } else {\n                return curUrl + \"?\" + profix + \"=\" + paramStr;\n            }\n        }\n    },\n    getQueryString: function (key, url) {\n        var _search = url || document.location.search,\n            _pattern = new RegExp(\"[?&]\" + key + \"\\=([^&]+)\", \"g\"),\n            _matcher = _pattern.exec(_search),\n            _items = null;\n        if (null != _matcher) {\n            try {\n                _items = decodeURIComponent(decodeURIComponent(_matcher[1]));\n            } catch (e) {\n                try {\n                    _items = decodeURIComponent(_matcher[1]);\n                } catch (e) {\n                    _items = _matcher[1];\n                }\n            }\n        }\n        return _items;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/tool.js"],"sourceRoot":""}